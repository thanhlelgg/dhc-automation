"use strict";var __importStar=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};Object.defineProperty(exports,"__esModule",{value:!0});const https=__importStar(require("https")),node_machine_id_1=require("node-machine-id"),querystring=__importStar(require("querystring")),util_1=require("../util"),debug=!1,trackingId="UA-134732439-2";class GAReporter{async send(t){const e=await node_machine_id_1.machineId(!0),r={aip:1,an:"Gondola Studio",av:util_1.getGondolaVersion(),cid:e,tid:trackingId,v:"1"};Object.assign(r,t);const i={headers:{"Content-Type":"application/x-www-form-urlencoded"},hostname:"www.google-analytics.com",method:"POST",path:debug?"/debug/collect":"/collect",port:443};await new Promise(t=>{try{const e=https.request(i,e=>{debug&&e.on("data",t=>{try{const e=JSON.parse(t.toString());e&&e.hitParsingResult&&!0===e.hitParsingResult[0].valid||e&&e.hitParsingResult&&e.hitParsingResult[0].valid}catch(t){}}),!e||!e.statusCode||e.statusCode<200||e.statusCode,t()});e.write(querystring.stringify(r)),e.end()}catch(e){t()}})}}exports.GAReporter=GAReporter;
//# sourceMappingURL=../../debug/telemetry/reporter.js.map
